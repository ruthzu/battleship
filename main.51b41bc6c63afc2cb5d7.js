(()=>{"use strict";var e={56:(e,t,r)=>{e.exports=function(e){var t=r.nc;t&&e.setAttribute("nonce",t)}},72:e=>{var t=[];function r(e){for(var r=-1,n=0;n<t.length;n++)if(t[n].identifier===e){r=n;break}return r}function n(e,n){for(var o={},s=[],i=0;i<e.length;i++){var c=e[i],l=n.base?c[0]+n.base:c[0],d=o[l]||0,u="".concat(l," ").concat(d);o[l]=d+1;var p=r(u),h={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==p)t[p].references++,t[p].updater(h);else{var m=a(h,n);n.byIndex=i,t.splice(i,0,{identifier:u,updater:m,references:1})}s.push(u)}return s}function a(e,t){var r=t.domAPI(t);return r.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;r.update(e=t)}else r.remove()}}e.exports=function(e,a){var o=n(e=e||[],a=a||{});return function(e){e=e||[];for(var s=0;s<o.length;s++){var i=r(o[s]);t[i].references--}for(var c=n(e,a),l=0;l<o.length;l++){var d=r(o[l]);0===t[d].references&&(t[d].updater(),t.splice(d,1))}o=c}}},86:(e,t,r)=>{e.exports=r.p+"a1f83159303920e9e0f5.png"},113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var r="",n=void 0!==t[5];return t[4]&&(r+="@supports (".concat(t[4],") {")),t[2]&&(r+="@media ".concat(t[2]," {")),n&&(r+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),r+=e(t),n&&(r+="}"),t[2]&&(r+="}"),t[4]&&(r+="}"),r}).join("")},t.i=function(e,r,n,a,o){"string"==typeof e&&(e=[[null,e,void 0]]);var s={};if(n)for(var i=0;i<this.length;i++){var c=this[i][0];null!=c&&(s[c]=!0)}for(var l=0;l<e.length;l++){var d=[].concat(e[l]);n&&s[d[0]]||(void 0!==o&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=o),r&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=r):d[2]=r),a&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=a):d[4]="".concat(a)),t.push(d))}},t}},437:(e,t,r)=>{r.d(t,{A:()=>i});var n=r(601),a=r.n(n),o=r(314),s=r.n(o)()(a());s.push([e.id,"// extracted by mini-css-extract-plugin\nexport {};",""]);const i=s},540:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},601:e=>{e.exports=function(e){return e[1]}},659:e=>{var t={};e.exports=function(e,r){var n=function(e){if(void 0===t[e]){var r=document.querySelector(e);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[e]=r}return t[e]}(e);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(r)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(r){!function(e,t,r){var n="";r.supports&&(n+="@supports (".concat(r.supports,") {")),r.media&&(n+="@media ".concat(r.media," {"));var a=void 0!==r.layer;a&&(n+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),n+=r.css,a&&(n+="}"),r.media&&(n+="}"),r.supports&&(n+="}");var o=r.sourceMap;o&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(n,e,t.options)}(t,e,r)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var o=t[n]={id:n,exports:{}};return e[n](o,o.exports,r),o.exports}r.m=e,r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.p="./",r.b=document.baseURI||self.location.href,r.nc=void 0;const n=r.p+"0ae8bc74ab38cecaa8ea.png",a=r.p+"a7772958eff899354c95.png",o=r.p+"6a9e4703510d1166113a.png",s=r.p+"ca6f9bb9bd8adebc3985.png",i=r.p+"f90fd9fca6272785465b.png",c=r.p+"c14a94e054a0a9e8fe64.png",l=r.p+"9492b5aad42b870eee44.png",d=r.p+"2213347786438640298b.png",u=r.p+"22d2be0663020c8c9d6b.png",p=r.p+"43ad19d52f5f1a36858d.png";function h(e,t){return{name:e,length:t,hits:0,sunk:!1,coords:[],hitCoords:[],hit(e){const[t,r]=e;this.hitCoords.some(e=>e[0]===t&&e[1]===r)||(this.hitCoords.push([t,r]),this.hits=this.hitCoords.length,this.hits>=this.length&&(this.sunk=!0))}}}const m=r.p+"625262ccd4babe4d4007.mp3",f=r.p+"2c6a83aa23e4aba545d2.mp3",y=r.p+"956af1aa57596868e7dd.mp3",g=r.p+"d3ea8ff262941a773543.mp3",v=[n,a,o,s,i],b=[c,l,d,u,p],S=["carrier-ship","battleship-ship","cruiser-ship","submarine-ship","destroyer-ship"],q=["carrier-ship","battleship-ship","cruiser-ship","submarine-ship","destroyer-ship"];let k=null,L=!0,x=null;const E={hit:null,sink:null,miss:null};function A(){E.hit||(E.hit=new Audio(m)),E.sink||(E.sink=new Audio(f)),E.miss||(E.miss=new Audio(y)),x||(x=new Audio(g),x.loop=!0,x.volume=.35)}function T(e){if(L&&e)try{e.currentTime=0,e.play().catch(()=>{})}catch(t){try{e.cloneNode().play().catch(()=>{})}catch(e){}}}function C(){if(A(),L&&x)try{x.play().catch(()=>{})}catch(e){}}function w(){if(x)try{x.pause(),x.currentTime=0}catch(e){}}function M(){document.querySelectorAll(".horizontal-ships img, .vertical-ships img").forEach(e=>{e.setAttribute("draggable",!0),e.addEventListener("dragstart",t=>{t.dataTransfer.setData("text/plain",e.alt),t.dataTransfer.setData("orientation",e.classList.contains("R-ship-width")?"vertical":"horizontal")})})}function N(e){switch(e){case"carrier-ship":return 5;case"battleship-ship":return 4;case"cruiser-ship":case"submarine-ship":return 3;case"destroyer-ship":return 2}}function $(e,t){const r=function(e){return S.indexOf(e)}(e),n=document.createElement("img");return"vertical"===t?(n.src=b[r],n.alt=S[r],n.classList.add(`R-${S[r]}`),n.classList.add("R-ship-width")):(n.src=v[r],n.alt=S[r],n.classList.add(S[r]),n.classList.add("ship-height")),n.style.position="absolute",n.style.transformOrigin="top left",n}function z(e,t,r,n){const{bw:a,bh:o}=function(e){const t=getComputedStyle(e);return{bw:parseFloat(t.getPropertyValue("--box-width"))||35,bh:parseFloat(t.getPropertyValue("--box-height"))||35}}(t);e.style.left=n*a+"px",e.style.top=r*o+"px"}function I(e){return Math.floor(Math.random()*e)}function D(e,t){const r=N(t);for(let n=0;n<500;n++){const n=Math.random()<.5?"horizontal":"vertical",a=I(10),o=I(10),s=[];for(let e=0;e<r;e++)"horizontal"===n?s.push([a,o+e]):s.push([a+e,o]);if(!s.every(([e,t])=>e>=0&&e<=9&&t>=0&&t<=9))continue;if(!e.isValidPlacement(s))continue;if(F(e,s))continue;const i=h(t,r);return e.placeShip(i,s),{orientation:n,startX:a,startY:o,coords:s}}return null}function H(){document.querySelectorAll(".playerone-grid-container .square, .playertwo-grid-container .square").forEach(e=>{e.style.pointerEvents="",e.querySelectorAll(".mark").forEach(e=>e.remove())}),P()}function _(){const e=document.querySelector(".horizontal-ships"),t=document.querySelector(".vertical-ships");e&&t&&(e.innerHTML="",t.innerHTML="",v.forEach((t,r)=>{const n=document.createElement("img");n.src=t,n.alt=S[r],n.classList.add(S[r]),n.classList.add("ship-height"),n.id=`ship-${S[r]}-h`,n.dataset.shipName=S[r],n.setAttribute("draggable","true"),n.addEventListener("dragstart",e=>{e.dataTransfer.setData("text/plain",n.alt),e.dataTransfer.setData("orientation",n.classList.contains("R-ship-width")?"vertical":"horizontal"),e.dataTransfer.setData("shipId",n.id)}),e.append(n)}),b.forEach((e,r)=>{const n=document.createElement("img");n.src=e,n.alt=S[r],n.classList.add(`R-${S[r]}`),n.classList.add("R-ship-width"),n.id=`ship-${S[r]}-v`,n.dataset.shipName=S[r],n.setAttribute("draggable","true"),n.addEventListener("dragstart",e=>{e.dataTransfer.setData("text/plain",n.alt),e.dataTransfer.setData("orientation",n.classList.contains("R-ship-width")?"vertical":"horizontal"),e.dataTransfer.setData("shipId",n.id)}),t.append(n)}),t.classList.add("hidden"),document.querySelector(".horizontal-ships")?.classList.remove("h-hidden"))}function R(e,t){const r="string"==typeof e?document.querySelector(e):e;if(!r)return;const n=r.querySelector(".remaining-ships");if(!n)return;const a=Array.isArray(t?.ships)?t.ships.length:parseInt(n.dataset.initial??n.textContent,10)||0;n.dataset.initial=a,n.dataset.remaining=a,n.textContent=`${a}`}function P(){document.querySelectorAll(".remaining-ships").forEach(e=>{const t=e.dataset.initial??e.textContent,r=parseInt(t,10);Number.isNaN(r)||(e.dataset.remaining=r,e.textContent=`${r}`)}),G()}function O(e){G();const t="player"===e?document.querySelector(".player-one-point-box"):document.querySelector(".player-two-point-box");if(t&&(t.classList.add("turn"),!t.querySelector(".crown"))){const e=document.createElement("div");e.classList.add("crown"),e.innerHTML='\n  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n    <path fill="none" stroke="#FFCC00" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 18h14M5 14h14l1-9l-4 3l-4-5l-4 5l-4-3z" />\n  </svg>\n';const r=t.querySelector("div");r&&r.parentElement===t?r.insertAdjacentElement("afterend",e):t.appendChild(e)}}function G(){document.querySelectorAll(".point-box").forEach(e=>{e.classList.remove("turn"),e.querySelectorAll(".crown").forEach(e=>e.remove())})}function V(e){const t=document.querySelector(".player-one-box"),r=document.querySelector(".player-two-box");t&&t.classList.remove("turn"),r&&r.classList.remove("turn"),"player"===e&&t?.classList.add("turn"),"computer"===e&&r?.classList.add("turn")}function F(e,t){for(let[r,n]of t)for(let t=-1;t<=1;t++)for(let a=-1;a<=1;a++){const o=r+t,s=n+a;if(!(o<0||s<0||o>9||s>9)&&e.ships.some(e=>e.coords.some(e=>e[0]===o&&e[1]===s)))return!0}return!1}function j(e,t){return{ships:[],misses:[],placeShip(e,t){this.isValidPlacement(t)?(e.coords=t,this.ships.push(e),console.log(`${e.name} placed at`,t)):console.log("Invalid placement for",e.name)},isValidPlacement(e){for(let t of this.ships)for(let r of e)if(t.coords.some(e=>e[0]===r[0]&&e[1]===r[1]))return!1;return!0},receiveAttack(e){const[t,r]=e;if(this.misses.some(e=>e[0]===t&&e[1]===r))return{alreadyAttacked:!0};for(let e of this.ships)if(e.hitCoords&&e.hitCoords.some(e=>e[0]===t&&e[1]===r))return{alreadyAttacked:!0};for(let n of this.ships)for(let a=0;a<n.coords.length;a++)if(n.coords[a][0]===t&&n.coords[a][1]===r)return"function"==typeof n.hit&&n.hit([t,r]),console.log(`Hit on ${n.name} at ${e}`),{hit:!0,shipName:n.name,sunk:!!n.sunk};return this.misses.push([t,r]),console.log(`Miss at ${e}`),{hit:!1}},allSunk(){return this.ships.every(e=>e.sunk)}}}function B(e="human"){return{type:e,attacks:[],targetQueue:[],currentTargetHits:[],attack(e,t){if(this.attacks.some(e=>e[0]===t[0]&&e[1]===t[1]))return{alreadyAttacked:!0};this.attacks.push(t);const r=e.receiveAttack(t);return"computer"===this.type&&r&&!r.alreadyAttacked&&this._handleComputerAttackOutcome(t,r),r},randomAttack(e){if("computer"!==this.type){const t=this._randomCoord();return{coord:t,result:this.attack(e,t)}}let t=0,r=null,n=null;for(;t<100&&(t+=1,r=this._nextTargetCoord(),n=this.attack(e,r),n&&n.alreadyAttacked););return t>=100&&(r=this._randomCoord(),n=this.attack(e,r)),{coord:r,result:n}},resetTracking(){this.attacks=[],this.targetQueue=[],this.currentTargetHits=[]},_randomCoord:()=>[Math.floor(10*Math.random()),Math.floor(10*Math.random())],_nextTargetCoord(){for(;this.targetQueue.length;){const e=this.targetQueue.shift();if(!this.attacks.some(t=>t[0]===e[0]&&t[1]===e[1]))return e}return this._randomCoord()},_handleComputerAttackOutcome(e,t){if(!t.hit)return;if(t.sunk)return this.currentTargetHits=[],void(this.targetQueue=[]);this.currentTargetHits.push(e),this.currentTargetHits=this.currentTargetHits.reduce((e,t)=>(e.some(e=>e[0]===t[0]&&e[1]===t[1])||e.push(t),e),[]);let r=[];if(this.currentTargetHits.length>=2){const t=[...this.currentTargetHits],n=t.every(e=>e[0]===t[0][0]),a=t.every(e=>e[1]===t[0][1]);if(n){const e=t[0][0],n=t.map(e=>e[1]);r=[[e,Math.min(...n)-1],[e,Math.max(...n)+1]]}else if(a){const e=t[0][1],n=t.map(e=>e[0]);r=[[Math.min(...n)-1,e],[Math.max(...n)+1,e]]}else r=this._adjacentCoords(e)}else r=this._adjacentCoords(e);this._enqueueTargets(r)},_enqueueTargets(e){e.filter(([e,t])=>this._isValidCoord(e,t)).forEach(([e,t])=>{const r=this.targetQueue.some(r=>r[0]===e&&r[1]===t),n=this.attacks.some(r=>r[0]===e&&r[1]===t);r||n||this.targetQueue.push([e,t])})},_adjacentCoords:([e,t])=>[[e+1,t],[e-1,t],[e,t+1],[e,t-1]],_isValidCoord:(e,t)=>e>=0&&e<10&&t>=0&&t<10}}var Q=r(72),Y=r.n(Q),U=r(825),X=r.n(U),J=r(659),K=r.n(J),W=r(56),Z=r.n(W),ee=r(540),te=r.n(ee),re=r(113),ne=r.n(re),ae=r(437),oe={};oe.styleTagTransform=ne(),oe.setAttributes=Z(),oe.insert=K().bind(null,"head"),oe.domAPI=X(),oe.insertStyleElement=te(),Y()(ae.A,oe),ae.A&&ae.A.locals&&ae.A.locals,function(){document.querySelector(".rotate-btn").addEventListener("click",()=>{document.querySelector(".vertical-ships").classList.toggle("hidden"),document.querySelector(".horizontal-ships").classList.toggle("h-hidden")}),function(){const e=document.querySelector(".grid-container");if(!e)return;const t=document.createElement("div");t.classList.add("grid");for(let e=0;e<10;e++)for(let r=0;r<10;r++){const n=document.createElement("div");n.classList.add("square"),n.dataset.x=e,n.dataset.y=r,t.append(n)}e.append(t)}(),function(){const e=document.querySelector(".horizontal-ships");if(!e)return;const t=document.querySelector(".vertical-ships");v.forEach((t,r)=>{const n=document.createElement("img");n.src=t,n.alt=S[r],n.classList.add(S[r]),n.classList.add("ship-height"),n.id=`ship-${S[r]}-h`,n.dataset.shipName=S[r],n.setAttribute("draggable","true"),n.addEventListener("dragstart",e=>{e.dataTransfer.setData("text/plain",n.alt),e.dataTransfer.setData("orientation",n.classList.contains("R-ship-width")?"vertical":"horizontal"),e.dataTransfer.setData("shipId",n.id)}),e.append(n)}),b.forEach((e,r)=>{const n=document.createElement("img");n.src=e,n.alt=S[r],n.classList.add(`R-${S[r]}`),n.classList.add("R-ship-width"),n.id=`ship-${S[r]}-v`,n.dataset.shipName=S[r],n.setAttribute("draggable","true"),n.addEventListener("dragstart",e=>{e.dataTransfer.setData("text/plain",n.alt),e.dataTransfer.setData("orientation",n.classList.contains("R-ship-width")?"vertical":"horizontal"),e.dataTransfer.setData("shipId",n.id)}),t.append(n)})}(),function(){const e=document.querySelector(".playerone-grid-container");if(!e)return;const t=document.createElement("div");t.classList.add("grid");for(let e=0;e<10;e++)for(let r=0;r<10;r++){const n=document.createElement("div");n.classList.add("square"),n.dataset.x=e,n.dataset.y=r,t.append(n)}e.append(t)}(),function(){const e=document.querySelector(".playertwo-grid-container");if(!e)return;const t=document.createElement("div");t.classList.add("grid");for(let e=0;e<10;e++)for(let r=0;r<10;r++){const n=document.createElement("div");n.classList.add("square"),n.dataset.x=e,n.dataset.y=r,t.append(n)}e.append(t)}(),document.querySelectorAll(".remaining-ships").forEach(e=>{const t=parseInt(e.dataset.initial??e.textContent.trim(),10),r=Number.isNaN(t)?0:t;e.dataset.initial=r,e.dataset.remaining=r,e.textContent=`${r}`}),G(),V(null);const e=document.querySelector(".sound-btn");e&&(e.textContent="Sound: On")}();const se=new URL(r(86),r.b),ie=document.querySelector(".title img");ie&&(ie.src=se.href);let ce=document.querySelector('link[rel="icon"]');ce||(ce=document.createElement("link"),ce.rel="icon",ce.type="image/png",document.head.appendChild(ce)),ce.href=se.href;const le=j(),de=j(),ue=function({enemyGridSelector:e,playerGridSelector:t,enemyBoard:r,playerBoard:n,humanPlayer:a,computerPlayer:o}){const s=document.querySelector(e),i=document.querySelector(t);if(!s||!i)return{setGameActive:()=>{},resetGameFlow:()=>{}};s.querySelector(".grid");const c=i.querySelector(".grid")||i,l=s.closest(".player-two-box"),d=i.closest(".player-one-box");let u="player",p=!1,h=!1;function m(e){p=!1,h=!1,k&&(clearTimeout(k),k=null),V(null),"You"===e?O("player"):"AI"===e&&O("computer")}function f(e){return"function"==typeof e?.allSunk&&e.allSunk()}function y(e,t,{gridContainer:r,board:n,box:a}){if(e&&t){if(t.hit){if(!e.querySelector(".mark-hit")){const t=document.createElement("div");t.classList.add("mark","mark-hit","hit-wave"),t.addEventListener("animationend",()=>t.classList.remove("hit-wave"),{once:!0}),e.appendChild(t)}A(),t.sunk||T(E.hit),t.sunk&&(function(e,t,r){if(!e||!t)return;const n=t.ships?.find(e=>e.name===r);if(!n||!Array.isArray(n.coords))return;const a=e.querySelector(".grid")||e;n.coords.forEach(([e,t])=>{const r=a.querySelector(`.square[data-x="${e}"][data-y="${t}"]`);if(r){if(!r.querySelector(".mark-hit")){const e=document.createElement("div");e.classList.add("mark","mark-hit"),r.appendChild(e)}if(!r.querySelector(".explosion")){const e=document.createElement("div");e.classList.add("mark","explosion"),e.innerHTML='\n  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n    <path fill="currentColor" d="m12 16.648l1.378-1.378h1.892v-1.892L16.648 12l-1.378-1.378V8.73h-1.892L12 7.352L10.622 8.73H8.73v1.892L7.352 12l1.378 1.378v1.892h1.892zm0 5.268L9.069 19H5v-4.069L2.085 12L5 9.069V5h4.069L12 2.085L14.931 5H19v4.069L21.916 12L19 14.931V19h-4.069z" />\n  </svg>\n',r.appendChild(e)}}}),A(),T(E.sink)}(r,n,t.shipName),function(e){if(!e)return null;const t=e.querySelector(".remaining-ships");if(!t)return null;const r=t.dataset.remaining??t.textContent,n=parseInt(r,10);if(Number.isNaN(n))return null;const a=Math.max(0,n-1);t.dataset.remaining=a,t.textContent=`${a}`}(a))}else if(!e.querySelector(".mark-miss")){const t=document.createElement("div");t.classList.add("mark","mark-miss"),e.appendChild(t),A(),T(E.miss)}e.style.pointerEvents="none"}}return s.addEventListener("click",function(e){if(!p||h||"player"!==u)return;const t=e.target.closest(".square");if(!t)return;const g=Number(t.dataset.x),v=Number(t.dataset.y);if(Number.isNaN(g)||Number.isNaN(v))return;const b=[g,v],S=a?a.attack(r,b):r.receiveAttack(b);S&&!S.alreadyAttacked&&(h=!0,y(t,S,{gridContainer:s,board:r,box:l}),f(r)?m("You"):(u="computer",V(u),function(e=700){k&&clearTimeout(k),k=setTimeout(()=>{k=null,function(){if(!p)return void(h=!1);const e=o?o.randomAttack(n):null;if(!e||!e.coord||!e.result||e.result.alreadyAttacked)return h=!1,u="player",void V(u);const{coord:t,result:r}=e,[a,s]=t;y(c.querySelector(`.square[data-x="${a}"][data-y="${s}"]`),r,{gridContainer:i,board:n,box:d}),f(n)?m("AI"):(u="player",V(u),h=!1)}()},e)}()))}),{setGameActive:function(e){p=e,h=!1,u="player",k&&(clearTimeout(k),k=null),a?.resetTracking?a.resetTracking():a&&(a.attacks=[]),o?.resetTracking?o.resetTracking():o&&(o.attacks=[]),V(e?"player":null)},resetGameFlow:function(){p=!1,h=!1,u="player",k&&(clearTimeout(k),k=null),V(null),a?.resetTracking?a.resetTracking():a&&(a.attacks=[]),o?.resetTracking?o.resetTracking():o&&(o.attacks=[])}}}({enemyGridSelector:".playertwo-grid-container",playerGridSelector:".playerone-grid-container",enemyBoard:de,playerBoard:le,humanPlayer:B("human"),computerPlayer:B("computer")});var pe;M(),pe=le,document.querySelectorAll(".playerone-grid-container .square, .grid-container .square").forEach(e=>{e.addEventListener("dragover",e=>{e.preventDefault()}),e.addEventListener("drop",t=>{t.preventDefault();const r=t.dataTransfer.getData("text/plain"),n=t.dataTransfer.getData("orientation"),a=Number(e.dataset.x),o=Number(e.dataset.y),s=N(r),i=[];for(let e=0;e<s;e++)"horizontal"===n?i.push([a,o+e]):i.push([a+e,o]);if(!i.every(([e,t])=>e>=0&&e<=9&&t>=0&&t<=9))return;if(!pe.isValidPlacement(i)||F(pe,i))return void alert("Invalid placement!");const c=h(r,s);pe.placeShip(c,i);const l=t.dataTransfer.getData("shipId");let d=null;l&&(d=document.getElementById(l)),d||(d=document.querySelector(`img[alt="${r}"]`)),d.style.position="absolute",d.style.transformOrigin="top left";const u=e.closest(".grid");z(d,u,a,o),u.appendChild(d),d.setAttribute("draggable","false"),document.querySelectorAll(`img[alt="${r}"]`).forEach(e=>{e.closest(".grid")||e.parentElement&&e.parentElement.removeChild(e)})})}),function(e,t){const r=document.querySelector(".randomize-btn");r&&r.addEventListener("click",()=>{e.ships=[],e.misses=[],document.querySelectorAll(".playerone-grid-container .grid, .grid-container .grid").forEach(e=>e.querySelectorAll("img").forEach(e=>e.remove())),P();const r=function(){const e=document.querySelector(".game-container");return e&&e.classList.contains("hidden-game")?document.querySelector(".grid-container .grid"):document.querySelector(".playerone-grid-container .grid")}();[...q].forEach(t=>{const n=D(e,t);if(n){const e=$(t,n.orientation);if(!r.querySelector(`.square[data-x="${n.startX}"][data-y="${n.startY}"]`))return;z(e,r,n.startX,n.startY),r.appendChild(e)}}),function(){const e=document.querySelector(".horizontal-ships"),t=document.querySelector(".vertical-ships");e&&(e.innerHTML=""),t&&(t.innerHTML="")}(),t&&(t.ships=[],t.misses=[],q.forEach(e=>{D(t,e)})),R(".player-one-point-box",e),t&&R(".player-two-point-box",t),V(null)})}(le,de),function(e,t,r){const n=document.querySelector(".reset-btn");n&&n.addEventListener("click",()=>{r?.resetGameFlow?.(),e&&(e.ships=[],e.misses=[]),t&&(t.ships=[],t.misses=[]),document.querySelectorAll(".grid-container .grid img, .playerone-grid-container .grid img").forEach(e=>e.remove()),H(),_(),M(),w()})}(le,de,ue),function(e,t,r){const n=document.querySelector(".start-btn");n&&n.addEventListener("click",()=>{const n=q.length;if(!Array.isArray(e?.ships)||e.ships.length!==n||!e.ships.every(e=>Array.isArray(e.coords)&&e.coords.length===e.length))return void alert("Place all your ships before starting (you can drag them or click Randomize).");const a=document.querySelector(".playerone-grid-container .grid");var o,s;o=e,(s=a)&&(s.querySelectorAll("img").forEach(e=>e.remove()),o.ships.forEach(e=>{if(!e.coords||0===e.coords.length)return;const{orientation:t,head:r}=function(e){if(!e||0===e.length)return{orientation:"horizontal",head:[0,0]};if(e.every(t=>t[0]===e[0][0]))return{orientation:"horizontal",head:[e[0][0],Math.min(...e.map(e=>e[1]))]};const t=e[0][1];return{orientation:"vertical",head:[Math.min(...e.map(e=>e[0])),t]}}(e.coords),n=$(e.name,t);s.querySelector(`.square[data-x="${r[0]}"][data-y="${r[1]}"]`)&&(z(n,s,r[0],r[1]),s.appendChild(n))})),t&&0===t.ships.length&&(t.ships=[],t.misses=[],q.forEach(e=>{D(t,e)})),t&&R(".player-two-point-box",t),R(".player-one-point-box",e),G();const i=document.querySelector(".front-container");i&&(i.style.display="none");const c=document.querySelector(".game-container");c&&c.classList.remove("hidden-game"),r?.setGameActive?.(!0),C()})}(le,de,ue),function(e,t,r){const n=document.querySelector(".quit-btn");n&&n.addEventListener("click",()=>{r?.resetGameFlow?.(),e&&(e.ships=[],e.misses=[]),t&&(t.ships=[],t.misses=[]),document.querySelectorAll(".grid-container .grid img, .playerone-grid-container .grid img").forEach(e=>e.remove()),H(),_(),M();const n=document.querySelector(".front-container");n&&(n.style.display="");const a=document.querySelector(".game-container");a&&a.classList.add("hidden-game"),w()})}(le,de,ue),function(){const e=document.querySelector(".sound-btn");e&&e.addEventListener("click",()=>{L=!L,e.textContent=L?"Sound: On":"Sound: Off",L?C():w()})}()})();